### File managed with puppet ###
## Served by:        '<%= scope.lookupvar('::servername') %>'
## Module:           '<%= scope.to_hash['module_name'] %>'
## Template source:  'MODULES<%= template_source.gsub(Regexp.new("^#{Puppet::Node::Environment.current[:modulepath].gsub(':','|')}"),"") %>'
<%
  def empty?(value)
    value == '' or value == :undef
  end
%>

# mod_proxy_cluster
<% if ! empty?(createbalancers) -%>
CreateBalancers <%= createbalancers %>
<% end -%>
<% if ! empty?(usealias) -%>
UseAlias <%= usealias %>
<% end -%>
<% if ! empty?(lbstatus_recal_time) -%>
LBstatusRecalTime  <%= lbstatus_recal_time %>
<% end -%>
<% if ! empty?(wait_for_remove) -%>
WaitForRemove  <%= wait_for_remove %>
<% end -%>

# mod_manager
<% if ! empty?(mem_manager_file) -%>
MemManagerFile <%= mem_manager_file %>
<% end -%>
<% if ! empty?(max_context) -%>
Maxcontext <%= max_context %>
<% end -%>
<% if ! empty?(max_node) -%>
Maxnode <%= max_node %>
<% end -%>
<% if ! empty?(max_host) -%>
Maxhost <%= max_host %>
<% end -%>
<% if ! empty?(max_sessionid) -%>
Maxsessionid <%= max_sessionid %>
<% end -%>
<% if ! empty?(persist_slots) -%>
PersistSlots <%= persist_slots%>
<% end -%>

